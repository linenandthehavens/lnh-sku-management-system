# Production Configuration for Linen & The Havens SKU Management System

app:
  lnh:
    db:
      url: ${DATABASE_URL}
      username: ${DATABASE_USERNAME}
      password: ${DATABASE_PASSWORD}
      dialect: org.hibernate.dialect.PostgreSQLDialect
      driver-class-name: org.postgresql.Driver

logging:
  level:
    root: INFO
    com.lnh.skumanagement: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

cors:
  allowed:
    # No fallback for frontend URL (must be set explicitly)
    origins: "*"

jwt:
  secret: ${JWT_SECRET}
  expiration: 86400000

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when-authorized


# Swagger/OpenAPI Configuration
# Uses environment variable for backend URL
springdoc:
  swagger-ui:
    servers:
      - url: ${BACKEND_URL:http://localhost:8080}
        description: Server
  api-docs:
    path: /v3/api-docs
    enabled: true

# Server Configuration
server:
  port: ${PORT:8080}
  # Critical for HTTPS proxying through Cloud Run
  forward-headers-strategy: framework
  compression:
    enabled: true